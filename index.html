<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FIRECalc</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“ˆ</text></svg>">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="index.css">
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/",
    "path": "https://esm.sh/path@^0.12.7",
    "vite": "https://esm.sh/vite@^7.3.1",
    "@vitejs/plugin-react": "https://esm.sh/@vitejs/plugin-react@^5.1.2",
    "@google/genai": "https://esm.sh/@google/genai@^1.35.0"
  }
}
</script>
</head>
<body class="text-slate-300 bg-[#0B0F19] font-inter">

    <!-- Entry State -->
    <div id="login-screen" class="fixed inset-0 flex items-center justify-center bg-[#0B0F19] z-50">
        <div class="p-8 text-center w-full">
            <h1 class="text-4xl font-black mb-2 text-white tracking-tighter">FIRECalc</h1>
            <div class="flex items-center justify-center gap-3 text-blue-500 font-bold uppercase tracking-widest text-xs mt-8">
                <i class="fas fa-circle-notch fa-spin text-lg"></i>
                Checking Local Storage...
            </div>
        </div>
    </div>

    <!-- Profile Selection Modal -->
    <div id="profile-modal" class="fixed inset-0 flex items-center justify-center bg-black/90 z-[70] hidden backdrop-blur-md px-6">
        <div class="w-full max-w-4xl">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-black text-white mb-2 tracking-tighter uppercase">Choose Your Starting Point</h2>
                <p class="text-slate-500 font-bold uppercase tracking-widest text-xs">All data is stored locally in this browser.</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <button data-profile="25" class="glass-panel p-8 rounded-[32px] border border-white/10 hover:border-teal-500/50 hover:bg-teal-500/5 transition-all group flex flex-col items-center text-center">
                    <div class="w-24 h-24 rounded-full bg-teal-500/10 flex items-center justify-center mb-6 border border-teal-500/20 group-hover:scale-110 transition-transform">
                        <i class="fas fa-seedling text-4xl text-teal-400"></i>
                    </div>
                    <h3 class="text-xl font-black text-white mb-1">25yo Single</h3>
                    <p class="text-[10px] text-teal-500 font-black uppercase tracking-widest">New York â€¢ Renter</p>
                </button>

                <button data-profile="45" class="glass-panel p-8 rounded-[32px] border border-blue-500/30 bg-blue-500/5 hover:border-blue-500 hover:bg-blue-500/10 transition-all group flex flex-col items-center text-center">
                    <div class="w-24 h-24 rounded-full bg-blue-500/20 flex items-center justify-center mb-6 border border-blue-500/40 group-hover:scale-110 transition-transform shadow-lg shadow-blue-500/20">
                        <i class="fas fa-users text-4xl text-blue-400"></i>
                    </div>
                    <h3 class="text-xl font-black text-white mb-1">45yo Couple</h3>
                    <p class="text-[10px] text-blue-500 font-black uppercase tracking-widest">Michigan â€¢ Mortgage</p>
                </button>

                <button data-profile="55" class="glass-panel p-8 rounded-[32px] border border-white/10 hover:border-purple-500/50 hover:bg-purple-500/5 transition-all group flex flex-col items-center text-center">
                    <div class="w-24 h-24 rounded-full bg-purple-500/10 flex items-center justify-center mb-6 border border-purple-500/20 group-hover:scale-110 transition-transform">
                        <i class="fas fa-umbrella-beach text-4xl text-purple-400"></i>
                    </div>
                    <h3 class="text-xl font-black text-white mb-1">55yo Retiree</h3>
                    <p class="text-[10px] text-purple-500 font-black uppercase tracking-widest">Florida â€¢ Paid Off</p>
                </button>

                <button data-profile="blank" class="glass-panel p-8 rounded-[32px] border border-white/10 hover:border-slate-500/50 hover:bg-slate-500/5 transition-all group flex flex-col items-center text-center">
                    <div class="w-24 h-24 rounded-full bg-slate-500/10 flex items-center justify-center mb-6 border border-slate-500/20 group-hover:scale-110 transition-transform">
                        <i class="fas fa-file text-4xl text-slate-400"></i>
                    </div>
                    <h3 class="text-xl font-black text-white mb-1">Start Blank</h3>
                    <p class="text-[10px] text-slate-500 font-black uppercase tracking-widest">Clean Slate</p>
                </button>
            </div>
        </div>
    </div>

    <div id="app-container" class="hidden flex h-screen overflow-hidden relative">
        <aside class="sidebar w-64 flex flex-col flex-shrink-0 bg-[#0B0F19]/80 backdrop-blur-xl border-r border-white/5 z-20">
            <div class="p-6 pb-2">
                <h1 class="text-xl font-black text-white tracking-tight">FIRECalc</h1>
                <p class="label-std text-slate-500">Local Only Storage</p>
            </div>
            
            <nav class="flex-grow px-3 py-2 space-y-1 overflow-y-auto" id="main-nav">
                <button data-tab="assets-debts" class="tab-btn w-full text-left p-3 flex items-center gap-3"><i class="fas fa-wallet w-5 text-center text-orange-400"></i><span>Assets</span></button>
                <button data-tab="income" class="tab-btn w-full text-left p-3 flex items-center gap-3"><i class="fas fa-money-bill-wave w-5 text-center text-teal-400"></i><span>Income</span></button>
                <button data-tab="budget" class="tab-btn w-full text-left p-3 flex items-center gap-3"><i class="fas fa-chart-pie w-5 text-center text-pink-500"></i><span>Budget</span></button>
                <button data-tab="assumptions" class="tab-btn w-full text-left p-3 flex items-center gap-3"><i class="fas fa-sliders-h w-5 text-center text-emerald-400"></i><span>Config</span></button>
                <button data-tab="benefits" class="tab-btn w-full text-left p-3 flex items-center gap-3"><i class="fas fa-hand-holding-heart w-5 text-center text-amber-400"></i><span>Benefits</span></button>
                <button data-tab="projection" class="tab-btn w-full text-left p-3 flex items-center gap-3"><i class="fas fa-chart-line w-5 text-center text-blue-400"></i><span>Projection</span></button>
                <button data-tab="burndown" class="tab-btn w-full text-left p-3 flex items-center gap-3"><i class="fas fa-stairs w-5 text-center text-purple-400" style="transform: scaleX(-1);"></i><span>Burndown</span></button>
            </nav>
            
            <div class="p-4 border-t border-white/5 bg-black/10">
                <div class="mb-4">
                    <p class="label-std text-slate-500 mb-1">Net Worth</p>
                    <p id="sidebar-networth" class="text-lg font-black text-teal-400 tracking-tight mono-numbers">$0</p>
                </div>
                <div id="user-name" class="font-bold text-slate-300 text-[11px] truncate mb-3">Local User</div>
                <button id="logout-btn" class="w-full py-2 bg-white/5 hover:bg-red-500/20 text-slate-400 hover:text-red-400 rounded-lg text-[10px] font-bold uppercase tracking-wider transition-colors border border-white/5">Reset Data</button>
            </div>
        </aside>

        <main class="main-content flex-grow p-8 overflow-y-auto bg-[#0B0F19]">
            <section id="tab-assets-debts" class="tab-content max-w-7xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                    <div class="card-container p-6 flex flex-col items-center justify-center h-28">
                        <p class="label-std mb-2 text-slate-500">Total Assets</p>
                        <p id="sum-assets" class="text-4xl font-black text-teal-400 mono-numbers tracking-tight">$0</p>
                    </div>
                    <div class="card-container p-6 flex flex-col items-center justify-center h-28">
                        <p class="label-std mb-2 text-slate-500">Total Liabilities</p>
                        <p id="sum-liabilities" class="text-4xl font-black text-red-400 mono-numbers tracking-tight">$0</p>
                    </div>
                    <div class="card-container p-6 flex flex-col items-center justify-center h-28 relative overflow-hidden group">
                        <div class="absolute inset-0 bg-teal-500/5 group-hover:bg-teal-500/10 transition-colors"></div>
                        <p class="label-std mb-2 text-teal-500">Net Worth</p>
                        <p id="sum-networth" class="text-4xl font-black text-teal-400 mono-numbers tracking-tight relative z-10">$0</p>
                    </div>
                </div>

                <div class="mb-12">
                    <div class="flex justify-between items-end mb-6 px-1">
                        <h2 class="text-xl font-bold text-white tracking-tight">Investments</h2>
                        <button data-add-row="investment-rows" data-row-type="investment" class="px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-xs font-bold transition-all shadow-lg shadow-blue-900/20"><i class="fas fa-plus mr-2"></i>Add Account</button>
                    </div>
                    <div class="card-container overflow-hidden">
                        <table class="w-full text-xs">
                            <thead class="text-slate-500 label-std border-b border-white/5">
                                <tr><th class="w-6"></th><th class="text-left w-[35%]">Account Name</th><th class="text-left w-[20%]">Asset Class</th><th class="text-right w-[20%]">Value</th><th class="text-right w-[20%]">Cost Basis</th><th class="w-6"></th></tr>
                            </thead>
                            <tbody id="investment-rows" class="mono-numbers"></tbody>
                        </table>
                    </div>
                </div>
                <!-- Other sections here... -->
            </section>

            <section id="tab-income" class="tab-content hidden max-w-7xl mx-auto">
                 <div class="flex justify-between items-center mb-8 px-1">
                    <h2 class="text-xl font-bold text-white tracking-tight">Income Streams</h2>
                    <button data-add-row="income-cards" data-row-type="income" class="px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-xs font-bold transition-all shadow-lg shadow-blue-900/20"><i class="fas fa-plus mr-2"></i>Add Income</button>
                </div>
                <div id="income-cards" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 items-start"></div>
            </section>

            <section id="tab-budget" class="tab-content hidden max-w-7xl mx-auto">
                <div class="mb-12">
                    <div class="flex items-center justify-between mb-6 px-1">
                        <h3 class="text-xl font-bold text-white tracking-tight">Living Expenses</h3>
                        <button data-add-row="budget-expenses-rows" data-row-type="budget-expense" class="w-8 h-8 flex items-center justify-center bg-blue-600 hover:bg-blue-500 rounded-lg text-white transition-colors"><i class="fas fa-plus text-xs"></i></button>
                    </div>
                    <div class="card-container overflow-hidden">
                        <table class="w-full text-xs">
                            <thead class="text-slate-500 label-std border-b border-white/5">
                                <tr><th class="w-10"></th><th class="text-left">Item Name</th><th class="text-center w-36">Retirement?</th><th class="text-right w-48">Monthly</th><th class="text-right w-48">Annual</th><th class="w-16"></th></tr>
                            </thead>
                            <tbody id="budget-expenses-rows" class="mono-numbers"></tbody>
                        </table>
                    </div>
                </div>
            </section>

            <section id="tab-assumptions" class="tab-content hidden max-w-7xl mx-auto">
                <div id="assumptions-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 items-start"></div>
            </section>

            <section id="tab-benefits" class="tab-content hidden max-w-7xl mx-auto">
                <div id="benefits-module" class="space-y-8"></div>
            </section>

            <section id="tab-projection" class="tab-content hidden max-w-7xl mx-auto">
                <div class="card-container p-6 mb-6 h-[500px] flex flex-col relative group">
                    <canvas id="projection-chart"></canvas>
                </div>
            </section>

            <section id="tab-burndown" class="tab-content hidden max-w-7xl mx-auto">
                <div id="burndown-view-container" class="mb-12"></div>
            </section>
        </main>
    </div>

    <script type="module" src="main.js"></script>
</body>
</html>
