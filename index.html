
<!-- FIRECalc Stable v4.1.2 - Production Build -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FIRECalc</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“ˆ</text></svg>">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="index.css">
<script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^1.35.0",
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/",
    "path": "https://esm.sh/path@^0.12.7",
    "vite": "https://esm.sh/vite@^7.3.1",
    "@vitejs/plugin-react": "https://esm.sh/@vitejs/plugin-react@^5.1.2"
  }
}
</script>
</head>
<body class="text-slate-300 bg-[#0B0F19] font-inter">

    <!-- Entry State -->
    <div id="login-screen" class="fixed inset-0 flex items-center justify-center bg-[#0B0F19] z-50">
        <div class="p-8 text-center w-full">
            <h1 class="text-4xl font-black mb-2 text-white tracking-tighter">FIRECalc</h1>
            <div class="flex items-center justify-center gap-3 text-blue-500 font-bold uppercase tracking-widest text-xs mt-8">
                <i class="fas fa-circle-notch fa-spin text-lg"></i>
                Checking Local Storage...
            </div>
        </div>
    </div>

    <!-- Profile Selection Modal -->
    <div id="profile-modal" class="fixed inset-0 flex items-center justify-center bg-black/90 z-[70] hidden backdrop-blur-md px-6">
        <div class="w-full max-w-4xl">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-black text-white mb-2 tracking-tighter uppercase">Choose Your Starting Point</h2>
                <p class="text-slate-500 font-bold uppercase tracking-widest text-xs">All data is stored locally in this browser.</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <button data-profile="25" class="glass-panel p-8 rounded-[32px] border border-white/10 hover:border-teal-500/50 hover:bg-teal-500/5 transition-all group flex flex-col items-center text-center">
                    <div class="w-24 h-24 rounded-full bg-teal-500/10 flex items-center justify-center mb-6 border border-teal-500/20 group-hover:scale-110 transition-transform">
                        <i class="fas fa-seedling text-4xl text-teal-400"></i>
                    </div>
                    <h3 class="text-xl font-black text-white mb-1">25yo Single</h3>
                </button>
                <button data-profile="45" class="glass-panel p-8 rounded-[32px] border border-blue-500/30 bg-blue-500/5 hover:border-blue-500 hover:bg-blue-500/10 transition-all group flex flex-col items-center text-center">
                    <div class="w-24 h-24 rounded-full bg-blue-500/20 flex items-center justify-center mb-6 border border-blue-500/40 group-hover:scale-110 transition-transform shadow-lg shadow-blue-500/20">
                        <i class="fas fa-users text-4xl text-blue-400"></i>
                    </div>
                    <h3 class="text-xl font-black text-white mb-1">45yo Couple</h3>
                </button>
                <button data-profile="55" class="glass-panel p-8 rounded-[32px] border border-white/10 hover:border-purple-500/50 hover:bg-purple-500/5 transition-all group flex flex-col items-center text-center">
                    <div class="w-24 h-24 rounded-full bg-purple-500/10 flex items-center justify-center mb-6 border border-purple-500/20 group-hover:scale-110 transition-transform">
                        <i class="fas fa-umbrella-beach text-4xl text-purple-400"></i>
                    </div>
                    <h3 class="text-xl font-black text-white mb-1">55yo Retiree</h3>
                </button>
                <button data-profile="blank" class="glass-panel p-8 rounded-[32px] border border-white/10 hover:border-slate-500/50 hover:bg-slate-500/5 transition-all group flex flex-col items-center text-center">
                    <div class="w-24 h-24 rounded-full bg-slate-500/10 flex items-center justify-center mb-6 border border-slate-500/20 group-hover:scale-110 transition-transform">
                        <i class="fas fa-file text-4xl text-slate-400"></i>
                    </div>
                    <h3 class="text-xl font-black text-white mb-1">Start Blank</h3>
                </button>
            </div>
        </div>
    </div>

    <div id="app-container" class="hidden flex h-screen overflow-hidden relative">
        <aside class="sidebar w-64 flex flex-col flex-shrink-0 bg-[#0B0F19]/80 backdrop-blur-xl border-r border-white/5 z-20">
            <div class="p-6 pb-2">
                <div class="flex items-center justify-between">
                    <h1 class="text-xl font-black text-white tracking-tight">FIRECalc</h1>
                    <a href="https://buymeacoffee.com/timdegraff" target="_blank" class="flex items-center gap-1.5 text-[8px] font-black text-orange-400 hover:text-orange-300 transition-colors uppercase tracking-widest">
                        Donate: <i class="fas fa-coffee"></i>
                    </a>
                </div>
                <p class="label-std text-slate-500">Retirement Engine</p>
            </div>
            
            <nav class="flex-grow px-3 py-2 space-y-1 overflow-y-auto" id="main-nav">
                <button data-tab="assets-debts" class="tab-btn w-full text-left p-3 flex items-center gap-3"><i class="fas fa-wallet w-5 text-center text-orange-400"></i><span>Assets</span></button>
                <button data-tab="income" class="tab-btn w-full text-left p-3 flex items-center gap-3"><i class="fas fa-money-bill-wave w-5 text-center text-teal-400"></i><span>Income</span></button>
                <button data-tab="budget" class="tab-btn w-full text-left p-3 flex items-center gap-3"><i class="fas fa-chart-pie w-5 text-center text-pink-500"></i><span>Budget</span></button>
                <button data-tab="assumptions" class="tab-btn w-full text-left p-3 flex items-center gap-3"><i class="fas fa-sliders-h w-5 text-center text-emerald-400"></i><span>Config</span></button>
                <button data-tab="benefits" class="tab-btn w-full text-left p-3 flex items-center gap-3"><i class="fas fa-hand-holding-heart w-5 text-center text-amber-400"></i><span>Benefits</span></button>
                <button data-tab="projection" class="tab-btn w-full text-left p-3 flex items-center gap-3"><i class="fas fa-chart-line w-5 text-center text-blue-400"></i><span>Projection</span></button>
                <button data-tab="burndown" class="tab-btn w-full text-left p-3 flex items-center gap-3"><i class="fas fa-stairs w-5 text-center text-purple-400" style="transform: scaleX(-1);"></i><span>Burndown</span></button>
            </nav>
            
            <div class="p-4 border-t border-white/5 bg-black/10">
                <div class="mb-4">
                    <p class="label-std text-slate-500 mb-2">Net Worth</p>
                    <p id="sidebar-networth" class="text-xl font-black text-teal-400 tracking-tight mono-numbers">$0</p>
                    <div id="sidebar-asset-legend" class="mt-4 grid grid-cols-2 gap-x-3 gap-y-1.5"></div>
                </div>
                <div id="user-name" class="font-bold text-slate-300 text-[11px] truncate mb-3">Local User</div>
                <div class="flex gap-2">
                    <div id="save-indicator" class="w-2 h-2 rounded-full bg-slate-800 transition-colors duration-500 mt-2"></div>
                    <button id="logout-btn" class="flex-grow py-2 bg-white/5 hover:bg-red-500/20 text-slate-400 hover:text-red-400 rounded-lg text-[10px] font-bold uppercase tracking-wider transition-colors border border-white/5">Reset Data</button>
                </div>
            </div>
        </aside>

        <main class="main-content flex-grow p-8 overflow-y-auto bg-[#0B0F19]">
            <!-- ASSETS TAB -->
            <section id="tab-assets-debts" class="tab-content max-w-7xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                    <div class="card-container p-6 flex flex-col items-center justify-center h-28">
                        <p class="label-std mb-2 text-slate-500">Total Assets</p>
                        <p id="sum-assets" class="text-4xl font-black text-teal-400 mono-numbers tracking-tight">$0</p>
                    </div>
                    <div class="card-container p-6 flex flex-col items-center justify-center h-28">
                        <p class="label-std mb-2 text-slate-500">Total Liabilities</p>
                        <p id="sum-liabilities" class="text-4xl font-black text-red-400 mono-numbers tracking-tight">$0</p>
                    </div>
                    <div class="card-container p-6 flex flex-col items-center justify-center h-28 relative overflow-hidden group">
                        <div class="absolute inset-0 bg-teal-500/5 group-hover:bg-teal-500/10 transition-colors"></div>
                        <p class="label-std mb-2 text-teal-500">Net Worth</p>
                        <p id="sum-networth" class="text-4xl font-black text-teal-400 mono-numbers tracking-tight relative z-10">$0</p>
                    </div>
                </div>

                <div class="space-y-12">
                    <!-- Investments -->
                    <div>
                        <div class="flex justify-between items-end mb-6 px-1">
                            <div class="flex flex-col gap-1">
                                <h2 class="text-xl font-bold text-white tracking-tight">Investments</h2>
                                <p class="text-[9px] font-bold text-slate-500 uppercase tracking-widest"><i class="fas fa-info-circle mr-1"></i> 529 Plans are excluded from this sheet as they are considered gifts/off-ledger assets.</p>
                            </div>
                            <button data-add-row="investment-rows" data-row-type="investment" class="px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-xs font-bold transition-all shadow-lg shadow-blue-900/20"><i class="fas fa-plus mr-2"></i>Add Account</button>
                        </div>
                        <div class="card-container overflow-hidden">
                            <table class="w-full text-xs">
                                <thead class="text-slate-500 label-std border-b border-white/5">
                                    <tr><th class="w-6"></th><th class="text-left w-[30%]">Account Name</th><th class="text-left w-[18%]">Asset Class</th><th class="text-right w-[18%]">Value</th><th class="text-right w-[18%]">Cost Basis</th><th class="text-center w-[10%]">Tax Eff. %</th><th class="w-6"></th></tr>
                                </thead>
                                <tbody id="investment-rows" class="mono-numbers"></tbody>
                            </table>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 xl:grid-cols-2 gap-8">
                        <!-- Real Estate -->
                        <div>
                            <div class="flex justify-between items-end mb-4 px-1">
                                <div class="flex items-center gap-3">
                                    <div class="w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center text-blue-400"><i class="fas fa-home text-xs"></i></div>
                                    <div>
                                        <h3 class="text-lg font-bold text-white">Real Estate</h3>
                                        <p class="text-[9px] font-bold text-slate-500 uppercase tracking-widest">Primary home and properties</p>
                                    </div>
                                </div>
                                <button data-add-row="real-estate-rows" data-row-type="realEstate" class="w-8 h-8 bg-blue-600 hover:bg-blue-500 text-white rounded-lg flex items-center justify-center transition-all shadow-lg shadow-blue-900/20"><i class="fas fa-plus text-xs"></i></button>
                            </div>
                            <div class="card-container overflow-hidden">
                                <table class="w-full text-xs">
                                    <thead class="label-std border-b border-white/5">
                                        <tr><th class="text-left">Property</th><th class="text-right">Value</th><th class="text-right">Mortgage</th><th class="text-right">Principal</th><th class="w-6"></th></tr>
                                    </thead>
                                    <tbody id="real-estate-rows" class="mono-numbers"></tbody>
                                </table>
                            </div>
                        </div>

                        <!-- HELOCs -->
                        <div>
                            <div class="flex justify-between items-end mb-4 px-1">
                                <div class="flex items-center gap-3">
                                    <div class="w-8 h-8 rounded-lg bg-red-500/20 flex items-center justify-center text-red-400"><i class="fas fa-university text-xs"></i></div>
                                    <div>
                                        <h3 class="text-lg font-bold text-white">HELOCs</h3>
                                        <p class="text-[9px] font-bold text-slate-500 uppercase tracking-widest">Secured lines of credit</p>
                                    </div>
                                </div>
                                <button data-add-row="heloc-rows" data-row-type="heloc" class="w-8 h-8 bg-blue-600 hover:bg-blue-500 text-white rounded-lg flex items-center justify-center transition-all shadow-lg shadow-blue-900/20"><i class="fas fa-plus text-xs"></i></button>
                            </div>
                            <div class="card-container overflow-hidden">
                                <table class="w-full text-xs">
                                    <thead class="label-std border-b border-white/5">
                                        <tr><th class="text-left">Name</th><th class="text-right">Balance</th><th class="text-right">Limit</th><th class="text-center w-20">Rate %</th><th class="w-6"></th></tr>
                                    </thead>
                                    <tbody id="heloc-rows" class="mono-numbers"></tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Other Assets -->
                        <div>
                            <div class="flex justify-between items-end mb-4 px-1">
                                <div class="flex items-center gap-3">
                                    <div class="w-8 h-8 rounded-lg bg-teal-500/20 flex items-center justify-center text-teal-400"><i class="fas fa-car text-xs"></i></div>
                                    <div>
                                        <h3 class="text-lg font-bold text-white">Other Assets</h3>
                                        <p class="text-[9px] font-bold text-slate-500 uppercase tracking-widest">Vehicles and collectibles</p>
                                    </div>
                                </div>
                                <button data-add-row="other-assets-rows" data-row-type="otherAsset" class="w-8 h-8 bg-blue-600 hover:bg-blue-500 text-white rounded-lg flex items-center justify-center transition-all shadow-lg shadow-blue-900/20"><i class="fas fa-plus text-xs"></i></button>
                            </div>
                            <div class="card-container overflow-hidden">
                                <table class="w-full text-xs">
                                    <thead class="label-std border-b border-white/5">
                                        <tr><th class="text-left">Asset</th><th class="text-right">Value</th><th class="text-right">Loan</th><th class="w-6"></th></tr>
                                    </thead>
                                    <tbody id="other-assets-rows" class="mono-numbers"></tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Other Debt -->
                        <div>
                            <div class="flex justify-between items-end mb-4 px-1">
                                <div class="flex items-center gap-3">
                                    <div class="w-8 h-8 rounded-lg bg-red-500/20 flex items-center justify-center text-red-400"><i class="fas fa-credit-card text-xs"></i></div>
                                    <div>
                                        <h3 class="text-lg font-bold text-white">Other Debt</h3>
                                        <p class="text-[9px] font-bold text-slate-500 uppercase tracking-widest">Unsecured loans and credit</p>
                                    </div>
                                </div>
                                <button data-add-row="debt-rows" data-row-type="debt" class="w-8 h-8 bg-blue-600 hover:bg-blue-500 text-white rounded-lg flex items-center justify-center transition-all shadow-lg shadow-blue-900/20"><i class="fas fa-plus text-xs"></i></button>
                            </div>
                            <div class="card-container overflow-hidden">
                                <table class="w-full text-xs">
                                    <thead class="label-std border-b border-white/5">
                                        <tr><th class="text-left">Creditor</th><th class="text-right">Balance</th><th class="text-right">Payment</th><th class="w-6"></th></tr>
                                    </thead>
                                    <tbody id="debt-rows" class="mono-numbers"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Private Equity / Stock Options -->
                    <div>
                        <div class="flex justify-between items-end mb-6 px-1">
                            <h2 class="text-xl font-bold text-white tracking-tight">Private Equity & Options</h2>
                            <button data-add-row="stock-option-rows" data-row-type="stockOption" class="w-8 h-8 bg-blue-600 hover:bg-blue-500 text-white rounded-lg flex items-center justify-center transition-all shadow-lg shadow-blue-900/20"><i class="fas fa-plus text-xs"></i></button>
                        </div>
                        <div class="card-container overflow-hidden">
                            <table class="w-full text-xs">
                                <thead class="text-slate-500 label-std border-b border-white/5">
                                    <tr><th class="text-left">Grant Name</th><th class="text-right">Shares</th><th class="text-right">Strike</th><th class="text-right">FMV</th><th class="text-center w-24">Growth %</th><th class="text-center w-20">Tax</th><th class="text-right">Net Equity</th><th class="w-6"></th></tr>
                                </thead>
                                <tbody id="stock-option-rows" class="mono-numbers"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- INCOME TAB -->
            <section id="tab-income" class="tab-content hidden max-w-7xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                    <div class="card-container p-6 flex flex-col items-center justify-center h-28">
                        <p class="label-std mb-2 text-slate-500">2026 Gross Income</p>
                        <p id="sum-gross-income" class="text-4xl font-black text-teal-400 mono-numbers tracking-tight">$0</p>
                    </div>
                    <div class="card-container p-6 flex flex-col items-center justify-center h-28">
                        <p class="label-std mb-2 text-slate-500">MAGI (Taxable Base)</p>
                        <p id="sum-income-adjusted" class="text-4xl font-black text-blue-400 mono-numbers tracking-tight">$0</p>
                    </div>
                    <div class="card-container p-6 flex flex-col items-center justify-center h-28 text-center relative group">
                        <p class="label-std mb-1 text-slate-500">Retirement Income in <span id="label-ret-year-summary">20XX</span></p>
                        <p id="sum-retirement-income-floor" class="text-3xl font-black text-teal-400 mono-numbers tracking-tight leading-none">$0</p>
                        <p id="sum-retirement-income-floor-real" class="text-[10px] font-bold text-slate-500 uppercase tracking-widest mt-2">$0 in 2026 Dollars</p>
                    </div>
                </div>

                <div class="flex justify-between items-center mb-8 px-1">
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 rounded-xl bg-teal-500/20 flex items-center justify-center text-teal-400"><i class="fas fa-money-bill-wave text-sm"></i></div>
                        <div>
                            <h2 class="text-xl font-bold text-white tracking-tight leading-none">Income Streams</h2>
                            <p class="text-[9px] font-bold text-slate-500 uppercase tracking-widest mt-1">W2, 1099, and Passive Income</p>
                        </div>
                    </div>
                    <button data-add-row="income-cards" data-row-type="income" class="px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-xs font-bold transition-all shadow-lg shadow-blue-900/20"><i class="fas fa-plus mr-2"></i>Add Income</button>
                </div>
                <div id="income-cards" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 items-start"></div>
            </section>

            <!-- BUDGET TAB -->
            <section id="tab-budget" class="tab-content hidden max-w-7xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                    <div class="card-container p-6 flex flex-col items-center justify-center h-28">
                        <p class="label-std mb-2 text-slate-500">Annual Savings</p>
                        <p id="sum-budget-savings" class="text-4xl font-black text-teal-400 mono-numbers tracking-tight">$0</p>
                    </div>
                    <div class="card-container p-6 flex flex-col items-center justify-center h-28">
                        <p class="label-std mb-2 text-slate-500">Annual Spend</p>
                        <p id="sum-budget-annual" class="text-4xl font-black text-pink-500 mono-numbers tracking-tight">$0</p>
                    </div>
                    <div class="card-container p-6 flex flex-col items-center justify-center h-32 text-center">
                        <p class="label-std mb-1 text-slate-500">Retirement Budget in <span id="label-ret-year-budget">20XX</span></p>
                        <p id="sum-retire-budget" class="text-4xl font-black text-blue-400 mono-numbers tracking-tight">$0</p>
                        <p id="sum-retire-budget-real" class="text-[10px] font-bold text-slate-500 uppercase tracking-widest mt-2">$0 IN 2026 DOLLARS</p>
                    </div>
                </div>

                <div class="mb-12">
                    <div class="flex items-center justify-between mb-6 px-1">
                        <div class="flex items-center gap-3">
                            <div class="w-8 h-8 rounded-lg bg-teal-500/20 flex items-center justify-center text-teal-400"><i class="fas fa-piggy-bank text-xs"></i></div>
                            <div>
                                <h3 class="text-xl font-bold text-white tracking-tight">Annual Savings</h3>
                                <p class="text-[9px] font-bold text-slate-500 uppercase tracking-widest">Surplus Income is SPENT, not saved here.</p>
                            </div>
                        </div>
                        <button data-add-row="budget-savings-rows" data-row-type="budget-savings" class="w-8 h-8 flex items-center justify-center bg-blue-600 hover:bg-blue-500 rounded-lg text-white transition-colors shadow-lg shadow-blue-900/20"><i class="fas fa-plus text-xs"></i></button>
                    </div>
                    <div class="card-container overflow-hidden">
                        <table class="w-full text-xs">
                            <thead class="text-slate-500 label-std border-b border-white/5">
                                <tr><th class="w-10"></th><th class="text-left">Asset Class</th><th class="text-center w-36">Retirement?</th><th class="text-right w-48">Monthly</th><th class="text-right w-48">Annual</th><th class="w-16"></th></tr>
                            </thead>
                            <tbody id="budget-savings-rows" class="mono-numbers"></tbody>
                        </table>
                    </div>
                </div>

                <div class="mb-12">
                    <div class="flex items-center justify-between mb-6 px-1">
                        <div class="flex items-center gap-3">
                            <div class="w-8 h-8 rounded-lg bg-pink-500/20 flex items-center justify-center text-pink-400"><i class="fas fa-chart-pie text-xs"></i></div>
                            <div>
                                <h3 class="text-xl font-bold text-white tracking-tight">Living Expenses</h3>
                                <p class="text-[9px] font-bold text-slate-500 uppercase tracking-widest">Monthly breakdown of costs</p>
                            </div>
                        </div>
                        <button data-add-row="budget-expenses-rows" data-row-type="budget-expense" class="w-8 h-8 flex items-center justify-center bg-blue-600 hover:bg-blue-500 rounded-lg text-white transition-colors shadow-lg shadow-blue-900/20"><i class="fas fa-plus text-xs"></i></button>
                    </div>
                    <div class="card-container overflow-hidden">
                        <table class="w-full text-xs">
                            <thead class="text-slate-500 label-std border-b border-white/5">
                                <tr><th class="w-10"></th><th class="text-left">Item Name</th><th class="text-center w-40">Retirement?</th><th class="text-right w-48" data-sort="monthly" data-target="budget-expenses-rows">Monthly <i class="fas fa-sort ml-1 opacity-20"></i></th><th class="text-right w-48" data-sort="annual" data-target="budget-expenses-rows">Annual <i class="fas fa-sort ml-1 opacity-20"></i></th><th class="w-16"></th></tr>
                            </thead>
                            <tbody id="budget-expenses-rows" class="mono-numbers"></tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- CONFIG TAB -->
            <section id="tab-assumptions" class="tab-content hidden max-w-7xl mx-auto">
                <div class="flex items-center justify-between mb-8 px-1">
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 rounded-xl bg-emerald-500/20 flex items-center justify-center text-emerald-400"><i class="fas fa-sliders-h text-sm"></i></div>
                        <div>
                            <h2 class="text-xl font-bold text-white tracking-tight leading-none">Configuration</h2>
                            <p class="text-[9px] font-bold text-slate-500 uppercase tracking-widest mt-1">Market Outlook and Household Timing</p>
                        </div>
                    </div>
                </div>
                <div id="assumptions-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 items-start"></div>
            </section>

            <!-- BENEFITS TAB -->
            <section id="tab-benefits" class="tab-content hidden max-w-7xl mx-auto">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-12">
                    <div id="benefit-summary-health" class="card-container p-6 flex flex-col items-center justify-center h-28 border-l-4 border-transparent transition-all">
                        <p class="label-std mb-2 text-slate-500 uppercase">Healthcare Plan</p>
                        <div id="sum-health-plan" class="w-full flex items-center justify-center">
                            <span class="text-3xl font-black text-slate-600">--</span>
                        </div>
                    </div>
                    <div id="benefit-summary-snap" class="card-container p-6 flex flex-col items-center justify-center h-28 border-l-4 border-transparent transition-all">
                        <p class="label-std mb-2 text-slate-500 uppercase">Est. SNAP (2026 Monthly)</p>
                        <p id="sum-snap-amt" class="text-4xl font-black text-slate-600 mono-numbers tracking-tight">$0</p>
                    </div>
                </div>

                <div class="flex items-center gap-4 mb-8 px-1">
                    <div class="w-10 h-10 rounded-xl bg-amber-500/20 flex items-center justify-center text-amber-500 shadow-lg shadow-amber-900/10"><i class="fas fa-hand-holding-heart text-sm"></i></div>
                    <div>
                        <h2 class="text-xl font-bold text-white tracking-tight leading-none">Benefit Optimization</h2>
                        <p class="text-[9px] font-bold text-slate-500 uppercase tracking-widest mt-1">Simulate Medicaid, ACA Subsidies, and SNAP Assistance</p>
                    </div>
                </div>
                <div id="benefits-module" class="space-y-8"></div>
            </section>

            <!-- PROJECTION TAB -->
            <section id="tab-projection" class="tab-content hidden max-w-7xl mx-auto">
                <div class="p-6 mb-8 bg-blue-900/10 border border-blue-500/20 rounded-[24px] flex items-center gap-6">
                    <div class="w-12 h-12 rounded-2xl bg-blue-500/20 flex items-center justify-center text-blue-400 flex-shrink-0"><i class="fas fa-info-circle"></i></div>
                    <div>
                        <h4 class="text-xs font-black text-white uppercase tracking-widest mb-1">Accumulation View (Gross Growth)</h4>
                        <p class="text-xs text-slate-400 leading-relaxed">This is the typical "mountain chart" seen on financial calculators. <strong>It assumes you live off nothing!</strong> It only tracks compound growth and savings, without subtracting bills, taxes, or health costs. Switch to the <strong>Burndown tab</strong> for a realistic survival simulation.</p>
                    </div>
                </div>

                <div class="flex flex-col md:flex-row justify-between items-end md:items-center gap-4 mb-8 px-1">
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center text-blue-400 shadow-lg shadow-blue-900/10"><i class="fas fa-chart-line text-sm"></i></div>
                        <div>
                            <h2 class="text-xl font-bold text-white tracking-tight leading-none">Asset Growth Projection</h2>
                            <p class="text-[9px] font-bold text-slate-500 uppercase tracking-widest mt-1">Compounding Power (Pre-Withdrawal)</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-6">
                        <button id="toggle-projection-real" class="px-4 py-2 bg-slate-800 border border-slate-700 rounded-xl text-xs font-black text-slate-400 hover:text-white uppercase tracking-widest transition-all">
                             Nominal Dollars
                        </button>
                        <div class="bg-slate-900/50 border border-white/5 p-2 rounded-2xl flex items-center gap-4 min-w-[200px]">
                            <span class="text-[9px] font-black text-slate-500 uppercase tracking-widest whitespace-nowrap">Chart Max: <span id="label-projection-end" class="text-blue-400">72</span></span>
                            <input type="range" id="input-projection-end" min="50" max="100" value="72" class="input-range w-full">
                        </div>
                    </div>
                </div>

                <div class="card-container p-8 mb-12 h-[550px] relative">
                    <canvas id="projection-chart"></canvas>
                </div>

                <div class="card-container overflow-hidden">
                    <div id="projection-table-container"></div>
                </div>
            </section>

            <!-- BURNDOWN TAB -->
            <section id="tab-burndown" class="tab-content hidden max-w-7xl mx-auto">
                <div id="burndown-view-container" class="mb-12"></div>
                
                <!-- ADVANCED LOGIC TRACE -->
                <div class="mt-8">
                    <div class="flex items-center justify-between mb-4 px-1">
                        <div class="flex items-center gap-4">
                            <div class="w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center text-blue-400">
                                <i class="fas fa-terminal text-sm"></i>
                            </div>
                            <div>
                                <h2 class="text-xl font-bold text-white tracking-tight uppercase tracking-tighter">Advanced Logic Trace</h2>
                                <p class="text-[8px] text-slate-500 font-bold uppercase tracking-widest mt-0.5">Deep-dive into the decumulation math</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-3 bg-slate-900/50 p-2 rounded-xl border border-white/5">
                            <div class="flex items-center gap-2 border-r border-white/10 pr-3 relative">
                                <span class="text-[9px] font-black text-slate-500 uppercase tracking-widest">Age</span>
                                <div class="flex items-center gap-1 bg-black/20 rounded-lg border border-white/5 px-1">
                                    <button data-step="down" data-target="input-trace-age" class="w-6 h-6 flex items-center justify-center hover:bg-slate-700 rounded text-slate-400 hover:text-white transition-colors"><i class="fas fa-minus text-[8px]"></i></button>
                                    <input type="number" id="input-trace-age" data-id="input-trace-age" step="1" class="input-base w-12 text-center text-blue-400 font-black mono-numbers h-8 !bg-transparent border-none" value="40">
                                    <button data-step="up" data-target="input-trace-age" class="w-6 h-6 flex items-center justify-center hover:bg-slate-700 rounded text-slate-400 hover:text-white transition-colors"><i class="fas fa-plus text-[8px]"></i></button>
                                </div>
                            </div>
                            <div class="flex items-center gap-2 relative">
                                <span class="text-[9px] font-black text-slate-500 uppercase tracking-widest">Year</span>
                                <div class="flex items-center gap-1 bg-black/20 rounded-lg border border-white/5 px-1">
                                    <button data-step="down" data-target="input-trace-year" class="w-6 h-6 flex items-center justify-center hover:bg-slate-700 rounded text-slate-400 hover:text-white transition-colors"><i class="fas fa-minus text-[8px]"></i></button>
                                    <input type="number" id="input-trace-year" data-id="input-trace-year" step="1" class="input-base w-20 text-center text-blue-400 font-black mono-numbers h-8 !bg-transparent border-none" value="2027">
                                    <button data-step="up" data-target="input-trace-year" class="w-6 h-6 flex items-center justify-center hover:bg-slate-700 rounded text-slate-400 hover:text-white transition-colors"><i class="fas fa-plus text-[8px]"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="logic-trace-container" class="card-container p-6 bg-black/40 font-mono text-xs text-slate-400 legacy-scrollbar leading-relaxed overflow-x-auto min-h-[300px]">
                        <div class="flex items-center justify-center h-full text-slate-600 italic">Enter a year to see the step-by-step logic trace for that period.</div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script type="module" src="main.js"></script>
</body>
</html>
